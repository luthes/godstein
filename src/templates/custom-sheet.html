<form class="{{cssClass}} flexcol" autocomplete="off">
    <header class="sheet-header">
        <div class="header-fields">
            <h1 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="Name"/></h1>
            <div class="profile-container">
                <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="100" width="100"/>
            </div>
            <div class="grid grid-2col">
                <div class="resource">
                    <label>Divine Power</label>
                    <div class="resource-inputs">
                        <input type="number" name="flags.godstein.divinePower.value" value="{{flags.godstein.divinePower.value}}" data-dtype="Number"/>
                        <span class="resource-max">/</span>
                        <input type="number" name="flags.godstein.divinePower.max" value="{{settings.maxDivinePower}}" data-dtype="Number" readonly/>
                    </div>
                </div>
                <div class="alignment">
                    <label>Alignment</label>
                    <input type="text" name="flags.godstein.alignment" value="{{flags.godstein.alignment}}" data-dtype="String"/>
                </div>
            </div>
        </div>
    </header>

    {{!-- Sheet Tab Navigation --}}
    <div class="sheet-navigation">
        <button class="nav-arrow left" type="button"><i class="fas fa-chevron-left"></i></button>
        <div class="tabs-wrapper">
            <nav class="sheet-tabs tabs" data-group="primary">
                <a class="item" data-tab="description">Description</a>
                <a class="item" data-tab="orders">Orders</a>
                <a class="item" data-tab="domains">Divine Domains</a>
                <a class="item" data-tab="divine-artifact">Divine Artifact</a>
            </nav>
        </div>
        <button class="nav-arrow right" type="button"><i class="fas fa-chevron-right"></i></button>
    </div>

    {{!-- Sheet Body --}}
    <section class="sheet-body">
        {{!-- Divine Domains Tab --}}
        <div class="tab domains" data-group="primary" data-tab="domains">
            <div class="form-group">
                <label>Primary Domain</label>
                <select name="flags.godstein.domains.primary" class="domain-select">
                    <option value="">Select Domain</option>
                    <option value="arcana" {{selected flags.godstein.domains.primary "arcana"}}>Arcana</option>
                    <option value="death" {{selected flags.godstein.domains.primary "death"}}>Death</option>
                    <option value="knowledge" {{selected flags.godstein.domains.primary "knowledge"}}>Knowledge</option>
                    <option value="life" {{selected flags.godstein.domains.primary "life"}}>Life</option>
                    <option value="light" {{selected flags.godstein.domains.primary "light"}}>Light</option>
                    <option value="nature" {{selected flags.godstein.domains.primary "nature"}}>Nature</option>
                    <option value="tempest" {{selected flags.godstein.domains.primary "tempest"}}>Tempest</option>
                    <option value="trickery" {{selected flags.godstein.domains.primary "trickery"}}>Trickery</option>
                    <option value="war" {{selected flags.godstein.domains.primary "war"}}>War</option>
                    <option value="vengeance" {{selected flags.godstein.domains.primary "vengeance"}}>Vengeance</option>
                    <option value="forge" {{selected flags.godstein.domains.primary "forge"}}>Forge</option>
                    <option value="order" {{selected flags.godstein.domains.primary "order"}}>Order</option>
                    <option value="peace" {{selected flags.godstein.domains.primary "peace"}}>Peace</option>
                    <option value="twilight" {{selected flags.godstein.domains.primary "twilight"}}>Twilight</option>
                    <option value="ambition" {{selected flags.godstein.domains.primary "ambition"}}>Ambition</option>
                    <option value="wine" {{selected flags.godstein.domains.primary "wine"}}>Wine</option>
                    <option value="blood" {{selected flags.godstein.domains.primary "blood"}}>Blood</option>
                    <option value="sea" {{selected flags.godstein.domains.primary "sea"}}>Sea</option>
                    <option value="justice" {{selected flags.godstein.domains.primary "justice"}}>Justice</option>
                    <option value="chaos" {{selected flags.godstein.domains.primary "chaos"}}>Chaos</option>
                    <option value="prophecy" {{selected flags.godstein.domains.primary "prophecy"}}>Prophecy</option>
                </select>
            </div>
            <div class="form-group">
                <label>Secondary Domain</label>
                <select name="flags.godstein.domains.secondary" class="domain-select">
                    <option value="">Select Domain</option>
                    <option value="arcana" {{selected flags.godstein.domains.secondary "arcana"}}>Arcana</option>
                    <option value="death" {{selected flags.godstein.domains.secondary "death"}}>Death</option>
                    <option value="knowledge" {{selected flags.godstein.domains.secondary "knowledge"}}>Knowledge</option>
                    <option value="life" {{selected flags.godstein.domains.secondary "life"}}>Life</option>
                    <option value="light" {{selected flags.godstein.domains.secondary "light"}}>Light</option>
                    <option value="nature" {{selected flags.godstein.domains.secondary "nature"}}>Nature</option>
                    <option value="tempest" {{selected flags.godstein.domains.secondary "tempest"}}>Tempest</option>
                    <option value="trickery" {{selected flags.godstein.domains.secondary "trickery"}}>Trickery</option>
                    <option value="war" {{selected flags.godstein.domains.secondary "war"}}>War</option>
                    <option value="vengeance" {{selected flags.godstein.domains.secondary "vengeance"}}>Vengeance</option>
                    <option value="forge" {{selected flags.godstein.domains.secondary "forge"}}>Forge</option>
                    <option value="order" {{selected flags.godstein.domains.secondary "order"}}>Order</option>
                    <option value="peace" {{selected flags.godstein.domains.secondary "peace"}}>Peace</option>
                    <option value="twilight" {{selected flags.godstein.domains.secondary "twilight"}}>Twilight</option>
                    <option value="ambition" {{selected flags.godstein.domains.secondary "ambition"}}>Ambition</option>
                    <option value="wine" {{selected flags.godstein.domains.secondary "wine"}}>Wine</option>
                    <option value="blood" {{selected flags.godstein.domains.secondary "blood"}}>Blood</option>
                    <option value="sea" {{selected flags.godstein.domains.secondary "sea"}}>Sea</option>
                    <option value="justice" {{selected flags.godstein.domains.secondary "justice"}}>Justice</option>
                    <option value="chaos" {{selected flags.godstein.domains.secondary "chaos"}}>Chaos</option>
                    <option value="prophecy" {{selected flags.godstein.domains.secondary "prophecy"}}>Prophecy</option>
                </select>
            </div>
            <div class="form-group">
                <label>Discarded Domain</label>
                <select name="flags.godstein.domains.discarded" class="domain-select">
                    <option value="">Select Domain</option>
                    <option value="arcana" {{selected flags.godstein.domains.discarded "arcana"}}>Arcana</option>
                    <option value="death" {{selected flags.godstein.domains.discarded "death"}}>Death</option>
                    <option value="knowledge" {{selected flags.godstein.domains.discarded "knowledge"}}>Knowledge</option>
                    <option value="life" {{selected flags.godstein.domains.discarded "life"}}>Life</option>
                    <option value="light" {{selected flags.godstein.domains.discarded "light"}}>Light</option>
                    <option value="nature" {{selected flags.godstein.domains.discarded "nature"}}>Nature</option>
                    <option value="tempest" {{selected flags.godstein.domains.discarded "tempest"}}>Tempest</option>
                    <option value="trickery" {{selected flags.godstein.domains.discarded "trickery"}}>Trickery</option>
                    <option value="war" {{selected flags.godstein.domains.discarded "war"}}>War</option>
                    <option value="vengeance" {{selected flags.godstein.domains.discarded "vengeance"}}>Vengeance</option>
                    <option value="forge" {{selected flags.godstein.domains.discarded "forge"}}>Forge</option>
                    <option value="order" {{selected flags.godstein.domains.discarded "order"}}>Order</option>
                    <option value="peace" {{selected flags.godstein.domains.discarded "peace"}}>Peace</option>
                    <option value="twilight" {{selected flags.godstein.domains.discarded "twilight"}}>Twilight</option>
                    <option value="ambition" {{selected flags.godstein.domains.discarded "ambition"}}>Ambition</option>
                    <option value="wine" {{selected flags.godstein.domains.discarded "wine"}}>Wine</option>
                    <option value="blood" {{selected flags.godstein.domains.discarded "blood"}}>Blood</option>
                    <option value="sea" {{selected flags.godstein.domains.discarded "sea"}}>Sea</option>
                    <option value="justice" {{selected flags.godstein.domains.discarded "justice"}}>Justice</option>
                    <option value="chaos" {{selected flags.godstein.domains.discarded "chaos"}}>Chaos</option>
                    <option value="prophecy" {{selected flags.godstein.domains.discarded "prophecy"}}>Prophecy</option>
                </select>
            </div>
        </div>

        {{!-- Artifact Tab --}}
        <div class="tab divine-artifact" data-group="primary" data-tab="divine-artifact">
            <div class="form-group">
                <label>Divine Artifact Description</label>
                <textarea name="flags.godstein.divine_artifact" rows="10" placeholder="Describe your deity's divine artifact here...">{{flags.godstein.divine_artifact}}</textarea>
            </div>
        </div>

        {{!-- Description Tab --}}
        <div class="tab description" data-group="primary" data-tab="description">
            <div class="grid grid-2col">
                <div class="form-group">
                    <label>Types of Followers</label>
                    <input type="text" name="flags.godstein.follower_types" value="{{flags.godstein.follower_types}}" />
                </div>
                <div class="form-group">
                    <label>Chosen People/Race</label>
                    <input type="text" name="flags.godstein.chosen_people" value="{{flags.godstein.chosen_people}}" />
                </div>
            </div>
            
            <div class="form-group biomes">
                <label>Preferred Biomes</label>
                <div class="biome-options">
                    <div class="biome-row top-row">
                        <label class="checkbox-label {{#if flags.godstein.preferred_biomes.plains_crossed}}crossed-out{{/if}}">
                            <input type="checkbox" name="flags.godstein.preferred_biomes.plains" {{checked flags.godstein.preferred_biomes.plains}} {{#if flags.godstein.preferred_biomes.plains_crossed}}class="crossed-checkbox"{{/if}}/>
                            <input type="hidden" name="flags.godstein.preferred_biomes.plains_crossed" value="{{flags.godstein.preferred_biomes.plains_crossed}}" />
                            Plains
                        </label>
                        <label class="checkbox-label {{#if flags.godstein.preferred_biomes.mountains_crossed}}crossed-out{{/if}}">
                            <input type="checkbox" name="flags.godstein.preferred_biomes.mountains" {{checked flags.godstein.preferred_biomes.mountains}} {{#if flags.godstein.preferred_biomes.mountains_crossed}}class="crossed-checkbox"{{/if}}/>
                            <input type="hidden" name="flags.godstein.preferred_biomes.mountains_crossed" value="{{flags.godstein.preferred_biomes.mountains_crossed}}" />
                            Mountains
                        </label>
                        <label class="checkbox-label {{#if flags.godstein.preferred_biomes.swamp_crossed}}crossed-out{{/if}}">
                            <input type="checkbox" name="flags.godstein.preferred_biomes.swamp" {{checked flags.godstein.preferred_biomes.swamp}} {{#if flags.godstein.preferred_biomes.swamp_crossed}}class="crossed-checkbox"{{/if}}/>
                            <input type="hidden" name="flags.godstein.preferred_biomes.swamp_crossed" value="{{flags.godstein.preferred_biomes.swamp_crossed}}" />
                            Swamp
                        </label>
                    </div>
                    <div class="biome-row bottom-row">
                        <label class="checkbox-label {{#if flags.godstein.preferred_biomes.forest_crossed}}crossed-out{{/if}}">
                            <input type="checkbox" name="flags.godstein.preferred_biomes.forest" {{checked flags.godstein.preferred_biomes.forest}} {{#if flags.godstein.preferred_biomes.forest_crossed}}class="crossed-checkbox"{{/if}}/>
                            <input type="hidden" name="flags.godstein.preferred_biomes.forest_crossed" value="{{flags.godstein.preferred_biomes.forest_crossed}}" />
                            Forest
                        </label>
                        <label class="checkbox-label {{#if flags.godstein.preferred_biomes.island_crossed}}crossed-out{{/if}}">
                            <input type="checkbox" name="flags.godstein.preferred_biomes.island" {{checked flags.godstein.preferred_biomes.island}} {{#if flags.godstein.preferred_biomes.island_crossed}}class="crossed-checkbox"{{/if}}/>
                            <input type="hidden" name="flags.godstein.preferred_biomes.island_crossed" value="{{flags.godstein.preferred_biomes.island_crossed}}" />
                            Island
                        </label>
                    </div>
                </div>
            </div>
            <div class="grid grid-2col">
                <div class=form-group>
                  <label>Goal</label>
                </div>
                <div class=form-group>
                  <input type="text" name="flags.godstein.goal" value="{{flags.godstein.goal}}" />
                </div>
                <div class=form-group>
                  <label>Relationships</label>
                </div>
                <div class=form-group>
                  <input type="text" name="flags.godstein.relationships" value="{{flags.godstein.relationships}}" />
                </div>
            </div>

            <div class="form-group notes-section">
                <label>Lore</label>
                <div class="notes-container">
                    {{editor flags.godstein.notes target="flags.godstein.notes" engine="prosemirror" button=false editable=true}}
                </div>
            </div>

        </div>

        {{!-- Orders Tab --}}
        <div class="tab orders" data-group="primary" data-tab="orders">
            <div class="orders-list">
                <div class="order-add">
                    <button type="button" class="add-order"><i class="fas fa-plus"></i> Add New Order</button>
                </div>
                {{#each orders as |item id|}}
                    <div class="order-item flexcol" data-item-id="{{item._id}}">
                        <div class="order-header">
                            <div class="order-time">{{localizeTime item.flags.godstein.time}}</div>
                            <div class="order-controls">
                                {{#unless item.flags.godstein.executed}}
                                    <a class="order-delete" title="Delete Order"><i class="fas fa-trash"></i></a>
                                {{/unless}}
                            </div>
                        </div>
                        <div class="order-content">
                            {{#if item.flags.godstein.accepted}}
                                <div class="order-title-text">{{item.name}}</div>
                                <div class="order-summary-text">{{item.flags.godstein.summary}}</div>
                                <div class="order-footer">
                                    <div class="order-status accepted"><i class="fas fa-check"></i>Accepted</div>
                                    {{#if @root.isGM}}
                                        <label class="order-executed">
                                            <input type="checkbox" {{checked item.flags.godstein.executed}} class="execute-order" {{#unless @root.isGM}}disabled{{/unless}} />
                                            Executed
                                        </label>
                                    {{else if item.flags.godstein.executed}}
                                        <div class="order-status executed"><i class="fas fa-check-double"></i> Executed</div>
                                    {{/if}}
                                </div>
                            {{else}}
                                <input type="text" class="order-title" value="{{item.name}}" placeholder="Order Title"/>
                                <textarea class="order-summary" placeholder="Terraform the map, fireball an ememies city, create a new city, mold a new race... You're a God, use your imagination! " rows="3">{{item.flags.godstein.summary}}</textarea>
                                <button class="order-accept" type="button"><i class="fas fa-check"></i>Accept</button>
                            {{/if}}
                        </div>
                    </div>
                {{/each}}
            </div>
        </div>
    </section>
</form> 
